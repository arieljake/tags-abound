
var listly = require('listly');

var ListRoutes = module.exports.ListRoutes = function (listlyServer)
{
	var app = listlyServer.app;
	var rewriter = listlyServer.rewriter;
	app.get('/views/lists', listly.utils.routeHandler(this,this.index));
	app.get('/views/lists/index/:listId', rewriter.rewrite('/views/lists/#/list/$1'));
	app.get('/views/lists/list', listly.utils.routeHandler(this,this.list));
	app.get('/views/lists/detail', listly.utils.routeHandler(this,this.detail));
};

ListRoutes.prototype.index = function(req, res)
{
	res.render('lists/index', listly.renderUtils.params(req,{title: "Lists"}));
};

ListRoutes.prototype.list = function(req, res)
{
	res.render('lists/list', listly.renderUtils.params(req,{layout: false}));
};

ListRoutes.prototype.detail = function(req, res)
{
	res.render('lists/detail', listly.renderUtils.params(req,{layout: false}));
};