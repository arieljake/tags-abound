
var listly = require('listly');

var SubmissionRoutes = module.exports.SubmissionRoutes = function (listlyServer)
{
	var app = listlyServer.app;
	var rewriter = listlyServer.rewriter;
	app.get('/views/submissions', listly.utils.routeHandler(this,this.index));
	app.get('/views/submissions/index/:submissionId', rewriter.rewrite('/views/submissions/#/submission/$1'));
	app.get('/views/submissions/list', listly.utils.routeHandler(this,this.list));
	app.get('/views/submissions/detail', listly.utils.routeHandler(this,this.detail));
	app.get('/views/submissions/edit', listly.utils.routeHandler(this,this.edit));
};

SubmissionRoutes.prototype.index = function(req, res)
{
	res.render('submissions/index', listly.renderUtils.params(req,{title: "Submissions"}));
};

SubmissionRoutes.prototype.list = function(req, res)
{
	res.render('submissions/list', listly.renderUtils.params(req,{layout: false}));
};

SubmissionRoutes.prototype.detail = function(req, res)
{
	res.render('submissions/detail', listly.renderUtils.params(req,{layout: false}));
};

SubmissionRoutes.prototype.edit = function(req, res)
{
	res.render('submissions/edit', listly.renderUtils.params(req,{layout: false}));
};