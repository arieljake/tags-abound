
var connectMongo = require('connect-mongo');

module.exports.createSessionSettings = function (express)
{
	var mongoStore = connectMongo(express);

	return {
		secret: "listlyisfun",
		store: new mongoStore({
								  db: "listly",
								  collection: "v1_session",
								  host: "127.0.0.1",
								  port: 27017,
								  auto_reconnect: true,
								  clear_interval: 300,
								  stringify: true
							  })
	};
};

module.exports.createUserSession = function (user,req)
{
	req.session.username = user.username;
	req.session.userId = user._id;
};

module.exports.clearUserSession = function (req)
{
	req.session.username = undefined;
	req.session.userId = undefined;
};